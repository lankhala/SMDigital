<!DOCTYPE html>
<html lang="km">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SM Digital</title>
  <!-- Add the logo as favicon -->
  <link rel="icon" href="headlogo.png" type="image/png" />
<style>


/* ======= style.css (inlined) ======= */
@font-face {
  font-family: 'Khala Regular Khmer';
  src: url('KantumruyPro-Medium.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
}
@font-face {
  font-family: 'Khala Bold';
  src: url('SF-Pro-Text-Bold.otf') format('truetype');
  font-style: normal;
}
@font-face {
  font-family: 'Khala Regular';
  src: url('SF-Pro-Text-Regular.otf') format('truetype');
}
@font-face {
  font-family: 'Khala Mid Khmer';
  src: url('KantumruyPro-Medium.ttf') format('truetype');
  font-style: normal;
}
@font-face {
  font-family: 'Khala Mid';
  src: url('SF-Pro-Text-Medium.otf') format('truetype');
  font-style: normal;
}
@font-face {
  font-family: 'Khala Bold Khmer';
  src: url('KantumruyPro-Bold.ttf') format('truetype');
  font-style: normal;
}
@font-face {
  font-family: 'Khala SemiBold Khmer';
  src: url('KantumruyPro-SemiBold.ttf') format('truetype');
  font-style: normal;
}

/* Hide scrollbar */
body::-webkit-scrollbar {
  display: none;
}

/* Base */
body {
  margin: 0;
  font-family: 'Khala Regular', sans-serif;
  background-color: #ebebeb;
}

/* Header */
header {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 50px;
  background-color: #ffffffc1;
  backdrop-filter: blur(20px);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 16px;
  box-shadow: 0 1px 4px rgba(0,0,0,0.1);
  z-index: 1000;
}

.header-left {
  display: flex;
  align-items: center;
  gap: 10px;
}

.header-left img {
  height: 36px;
}

.header-center {
  display: flex;
  align-items: center;
  justify-content: center;   /* ✅ center all tool buttons */
  flex: 1;                   /* ✅ take available space */
  gap: 20px;                 /* ✅ even spacing between buttons */
}

.tool-btn {
  background: none;
  border: none;
  cursor: pointer;
  height: 50px;
  padding: 0 25px;           /* ✅ balanced padding */
  position: relative;
}
.tool-btn:hover {
  background-color: #f2f2f2;
  transition: 0.2s;
  border-radius: 5px;
}

.tool-btn img {
  width: 28px;
  height: 28px;
  filter: grayscale(100%);
  transition: filter 0.3s ease;
}

.tool-btn.active img {
  filter: brightness(0) saturate(100%) invert(32%) sepia(90%) saturate(600%) hue-rotate(190deg) brightness(105%) contrast(95%);
}

.tool-btn::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 50%;
  width: 0;
  height: 3px;
  background-color: #1877f2;
  border-radius: 2px;
  transition: all 0.3s ease;
  transform: translateX(-50%);
}
.tool-btn.active::after {
  width: 100%;
}

/* Panels */
.panel-container {
  max-width: 100%;
  margin-top: 45px;
}

.panel {
  display: none;
  opacity: 0;
  transform: translateX(30px);
  transition: opacity 0.5s ease, transform 0.5s ease;
}
.panel.active {
  display: block;
  opacity: 1;
  transform: translateX(0);
}

.banner-top {
  width: 100%;
  overflow: hidden;
  border-radius: 10px;
}
.banner-top video,
.banner-top img {
  width: 100%;
  height: auto;
  display: block;
}



/* Store Panel */
.box {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 8px;
  padding: 16px;
  max-width: 1100px;
  margin: 0 auto;
}
.item {
  background-color: #e7e7e7ec;
  border-radius: 10px;
  overflow: hidden;
  transition: transform 0.2s ease;
  padding: 5px;                           /* ✅ spacing inside box */
  display: flex;
  flex-direction: column;
  text-align: left;
}

.item img {
  width: 100%;
  height: auto;
  aspect-ratio: 1 / 1;
  object-fit: cover;
  border-radius: 8px;                      /* ✅ rounded image corners */
}
body.dark .item {
  background-color: #1e1e1e;
  border-color: #333;
  box-shadow: 0 4px 12px rgba(0,0,0,0.4);
}
body.dark .item img {
  border-color: #444;
  box-shadow: 0 2px 6px rgba(0,0,0,0.3);
}


.info {
  padding: 10px;
}
.info h3 {
  font-family: 'Khala Mid', sans-serif !important;
  font-weight: 500;
  font-size: 15px;
  margin: 0 0 5px;
  color: #666;
}
.info p {
  font-size: 14px;
  font-family: 'Khala Regular Khmer';
  color: #666;
  margin: 0 0 5px;
}
.span {
  font-size: 14px;
  color: #a1a1a1;
}
.info span{
  color: #0099ff;
  font-size: 14px;
  font-family: 'Khala Mid khmer';
}


/* Service Panel */
.service-content {
  margin-top: 20px;
  text-align: center;
}

/* Overlay */
/* #overlay {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background-color: #e4e4e4;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.5s ease;
  z-index: 2000;
}
#overlay.active {
  opacity: 1;
} */

.text-welcome {
  text-align: center;
  font-size: 40px;
  font-family: 'Khala Mid';
  letter-spacing: 0.3px;
  color: rgb(0, 110, 255);
}
.panel img {
  width: 100%;
}





/* 

#panelOverlay {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background-color: #e1e1e1;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.4s ease;
  z-index: 2000;
}
#panelOverlay.active {
  opacity: 1;
  pointer-events: auto;
} */





.mode-btn { cursor: pointer; height: 28px; transition: filter 0.3s ease; }
.mode-btn:hover { filter: brightness(0.85); }

/* Dark mode styles */
body.dark {
  background-color: #121212;
  color: #e0e0e0;
  transition: 0.3s;
}

body.dark header {
  background-color: #1f1f1f;
  box-shadow: 0 1px 4px rgba(0,0,0,0.6);
  transition: 0.3s;
}

body.dark .item {
  background-color: #1e1e1e;
  transition: 0.3s;
}

body.dark .info h3,
body.dark .info p,
body.dark .info span {
  color: #ddd;
  transition: 0.3s;
}


body.dark .mode-btn {
  color: #ffd700; /* sun icon color */
}

body.dark .tool-btn:hover {
  background-color: #46464600;
  transition: 0.3s;
  border-radius: 5px;
}

body.dark .service-box {
  transition: 0.3s;
}

/* Dark mode override */ body.dark #panelOverlay { background-color: #2e2e2e; /* ✅ darker overlay */ transition: opacity 0.4s ease; /* ✅ keep smooth timing */}

/* Banner Carousel */
.service-banner {
  max-width: 1100px;
  margin: 60px auto 0;
  border-radius: 8px;
  overflow: hidden;
}
.service-banner img {
  width: 100%;
  height: auto;
  object-fit: cover;
  display: block;
}





.last-works {
  max-width: 1100px;
  margin: 10px auto;
  padding: 0 10px;
}

.last-works h2 {
  font-family: 'Khala Mid Khmer', sans-serif;
  font-size: 22px;
  margin-bottom: 15px;
  text-align: center;
  color: #333;
}

/* ✅ Masonry layout */
.works-grid {
  column-count: 3;      /* desktop: 4 columns */
  column-gap: 5px;    /* spacing between columns */
}

.works-grid img {
  width: 100%;
  height: auto;         /* natural height */
  margin-bottom: 5px;  /* spacing between images vertically */
  display: block;
  border-radius: 6px;
}

/* ✅ Responsive for phone */
@media (max-width: 490px){
  .works-grid {
    column-count: 1;    /* mobile: 2 columns */
    column-gap: 0px;
  }
  .last-works {
  max-width: 99%;
  margin: 7px -10px;
}
.works-grid img {
  margin-bottom: 5px;  /* spacing between images vertically */
  width: 100%;
  height: auto;
}
}



/* Floating Icon */
.floating-icon {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 45px;
  height: 45px;
  background-color: #0d9ae0; /* Telegram blue */
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  z-index: 3000; /* stays above panels */
  transition: 0.4s;
}

.floating-icon img {
  width: 28px;
  height: 28px;
  filter: brightness(0) invert(1); /* white icon look */
}

@media (max-width: 480px) {
  .floating-icon{
    bottom: 10px;
    right: 20px;
    width: 45px;
    height: 45px;
  }
}



/* =========================
   PHONE RESPONSIVE DESIGN
   ========================= */
@media (max-width: 480px) {

  header {
    height: 50px;
    padding: 0 10px;
  }

  .header-left img {
    height: 34px;
  }

  .header-center {
    margin-left: 0;
    gap: 8px;
  }

  .tool-btn {
    padding: 0 25px;
  }

  .tool-btn img {
    width: 28px;
    height: 28px;
  }

  .panel-container {
    margin-top: 55px;
    padding: 0 10px;
  }

  .box {
    grid-template-columns: repeat(2, 1fr); /* ✅ 2 per row */
    gap: 5px;                              /* ✅ small spacing only between items */
    width: 100%;                           /* ✅ full width */
    padding: 0;                            /* ❌ remove left/right padding */
    margin: 0;                             /* ❌ remove auto margin */
  }

  .item {
    border-radius: 8px;
    overflow: hidden;
    min-height: 200px;     /* ✅ make product card taller */
  }

  .item img {
    width: 100%;
    height: auto;        /* ✅ fix image height bigger */
    object-fit: cover;    /* ✅ crop nicely */
    display: block;
  }

  .info h3 {
    font-size: 16px;      /* ✅ slightly bigger text */
  }

  .info p {
    font-size: 13px;
  }

  .info span {
    font-size: 13px;
    font-weight: 500;
    font-family: 'Khala Mid';
    color: #007bff;
  }

  .extra-row {
    grid-template-columns: 1fr;
    gap: 12px;
  }

  .extra-box {
    height: auto;
    min-height: 280px;
    padding: 20px 10px;
  }

  .extra-box h2 {
    font-size: 18px;
  }

  .extra-box p {
    font-size: 13px;
  }

  .extra-box .hero-btn {
    font-size: 13px;
    padding: 8px 14px;
    margin-bottom: 20px;
  }
}














a { text-decoration: none; }

/* Page container */
.content-store-info{
  max-width: 1100px;
  margin: 24px auto;
  padding: 0 16px;
  font-family: 'Khala Mid Khmer', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  color: #1f2937;
}

/* Product Card */
.product-card{
  background: #ffffff;
  border: 1px solid rgba(15, 23, 42, 0.08);
  border-radius: 16px;
  box-shadow: 0 10px 30px rgba(2, 6, 23, 0.06);
  overflow: hidden;
}

/* Top grid */
.product-grid{
  display: grid;
  grid-template-columns: 1.05fr 1fr;
  gap: 20px;
  padding: 18px;
}

.product-media{ padding: 6px; }
.media-main{
  border-radius: 14px;
  overflow: hidden;
  border: 1px solid rgba(15, 23, 42, 0.08);
  background: #f8fafc;
}
.media-main img{
  width: 100%;
  height: 360px;
  object-fit: cover;
  display: block;
}

.media-thumbs{
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  margin-top: 12px;
}
.thumb{
  border: 1px solid rgba(15, 23, 42, 0.10);
  background: #fff;
  border-radius: 12px;
  padding: 6px;
  cursor: pointer;
  transition: transform .15s ease, border-color .15s ease, box-shadow .15s ease;
}
.thumb img{
  width: 100%;
  height: 90px;
  object-fit: cover;
  border-radius: 10px;
  display: block;
}
.thumb:hover{
  transform: translateY(-1px);
  box-shadow: 0 8px 18px rgba(2, 6, 23, 0.08);
}
.thumb.is-active{
  border-color: rgba(37, 99, 235, 0.55);
}

/* Info */
.product-info{ padding: 6px; }

.product-badges{
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 10px;
}
.badge{
  font-size: 13px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(15, 23, 42, 0.10);
  background: #fff;
}
.badge-primary{
  border-color: rgba(37, 99, 235, 0.18);
  background: rgba(37, 99, 235, 0.10);
  color: #1d4ed8;
}
.badge-soft{
  border-color: rgba(16, 185, 129, 0.18);
  background: rgba(16, 185, 129, 0.10);
  color: #047857;
}

.product-title{
  font-size: 26px;
  line-height: 1.25;
  margin: 6px 0 12px;
  letter-spacing: 0.2px;
}

.product-meta{
  display: grid;
  gap: 8px;
  padding: 12px;
  border-radius: 14px;
  background: #f8fafc;
  border: 1px solid rgba(15, 23, 42, 0.08);
}
.meta-row{
  display: flex;
  justify-content: space-between;
  gap: 10px;
  font-size: 14px;
}
.meta-label{ color: #6b7280; }
.meta-value{ color: #111827; }
.meta-value.ok{ color: #059669; }

.product-price{
  margin: 14px 0 12px;
  display: grid;
  gap: 4px;
}
.price-now{
  font-size: 28px;
  font-weight: 800;
  letter-spacing: .2px;
}
.price-note{
  font-size: 13px;
  color: #6b7280;
}

.product-highlights{
  margin: 10px 0 14px;
  padding-left: 18px;
  color: #111827;
  line-height: 1.6;
}

.product-actions{
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  margin: 12px 0 14px;
}
.btn{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 12px 14px;
  border-radius: 12px;
  border: 1px solid rgba(15, 23, 42, 0.12);
  font-weight: 700;
  cursor: pointer;
  transition: transform .15s ease, box-shadow .15s ease, opacity .15s ease;
}
.btn:hover{ transform: translateY(-1px); box-shadow: 0 10px 18px rgba(2, 6, 23, 0.10); }
.btn-primary{
  background: #2563eb;
  color: #fff;
  border-color: rgba(37, 99, 235, 0.25);
}
.btn-ghost{
  background: #fff;
  color: #111827;
}

.product-trust{
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  margin-top: 12px;
}
.trust-item{
  padding: 12px;
  border-radius: 14px;
  border: 1px solid rgba(15, 23, 42, 0.08);
  background: #ffffff;
}
.trust-title{
  display: block;
  font-weight: 800;
  margin-bottom: 4px;
}
.trust-desc{
  display: block;
  font-size: 13px;
  color: #6b7280;
}

/* Tabs */
.product-tabs{
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  padding: 12px 14px;
  border-top: 1px solid rgba(15, 23, 42, 0.08);
  background: #ffffff;
}
.tab-btn{
  border: 1px solid rgba(15, 23, 42, 0.12);
  background: #fff;
  color: #111827;
  padding: 10px 12px;
  border-radius: 12px;
  cursor: pointer;
  font-weight: 800;
  transition: background .15s ease, border-color .15s ease, transform .15s ease;
}
.tab-btn:hover{ transform: translateY(-1px); }
.tab-btn.is-active{
  background: rgba(37, 99, 235, 0.10);
  border-color: rgba(37, 99, 235, 0.35);
  color: #1d4ed8;
}

/* Panels */
.tab-panels{
  padding: 14px 18px 18px;
  border-top: 1px solid rgba(15, 23, 42, 0.08);
  background: #ffffff;
}
.tab-panel{ display: none; }
.tab-panel.is-active{ display: block; }

.tab-panel h3{
  margin: 6px 0 10px;
  font-size: 18px;
}
.tab-panel p{ color: #374151; line-height: 1.75; }

.info-grid{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  margin-top: 12px;
}
.info-card{
  border: 1px solid rgba(15, 23, 42, 0.08);
  background: #f8fafc;
  border-radius: 14px;
  padding: 12px;
}
.info-card h4{
  margin: 0 0 8px;
  font-size: 15px;
}
.info-card ul{ margin: 0; padding-left: 18px; color: #374151; }

.spec-table{
  border: 1px solid rgba(15, 23, 42, 0.08);
  border-radius: 14px;
  overflow: hidden;
}
.spec-row{
  display: flex;
  justify-content: space-between;
  gap: 12px;
  padding: 12px 14px;
  background: #fff;
  border-bottom: 1px solid rgba(15, 23, 42, 0.06);
}
.spec-row:nth-child(even){ background: #f8fafc; }
.spec-row span{ color: #6b7280; }
.spec-row b{ color: #111827; }

.list-check{
  padding-left: 18px;
  line-height: 1.75;
  color: #111827;
}

.faq{
  border: 1px solid rgba(15, 23, 42, 0.08);
  border-radius: 14px;
  padding: 12px 14px;
  margin: 10px 0;
  background: #f8fafc;
}
.faq summary{
  font-weight: 800;
  cursor: pointer;
}
.faq p{
  margin: 8px 0 0;
  color: #374151;
}

/* Responsive */
@media (max-width: 900px){
  .product-grid{ grid-template-columns: 1fr; }
  .media-main img{ height: 320px; }
  .product-trust{ grid-template-columns: 1fr; }
  .info-grid{ grid-template-columns: 1fr; }
}







/* =========================
   PRODUCT SHEET (Slide from right + opacity)
   - No background dim/blur
   - Fullscreen under header
   ========================= */
:root{
  --header-h: 50px;
  --sheet-dur: 380ms;
}

/* keep header on top */
header{ z-index: 6000; }

/* optional: prevent body scroll while sheet open */
body.sheet-open{ overflow: hidden; }

.product-modal{
  position: fixed;
  left: 0;
  right: 0;
  top: var(--header-h);
  height: calc(100vh - var(--header-h));
  z-index: 5000;
  visibility: hidden;
  pointer-events: none;
}

/* visible wrapper (still no dim) */
.product-modal.is-visible{
  visibility: visible;
  pointer-events: auto;
}

/* transparent layer (click to close) */
.pm-backdrop{
  position: absolute;
  inset: 0;
  background: transparent;
}

/* sheet */
.pm-dialog{
  position: absolute;
  inset: 0;
  background: #ffffff;
  overflow: auto;

  /* start: off-screen + barely visible */
  transform: translateX(100%);
  opacity: 0;

  transition: transform var(--sheet-dur) cubic-bezier(.2,.9,.2,1),
              opacity   var(--sheet-dur) ease;
}

/* opened: stopped position + 100% visible */
.product-modal.is-open .pm-dialog{
  transform: translateX(0);
  opacity: 1;
}

/* close button: fixed top-left inside sheet */
.pm-close{
  position: sticky;
  top: 12px;
  left: 12px;
  margin: 12px 0 0 12px;
  z-index: 20;

  width: 40px;
  height: 40px;
  border-radius: 13px;
  border: 1px solid rgba(15, 23, 42, 0.12);
  background: rgb(255, 255, 255);
}

/* sheet content spacing */
.pm-content{
  padding: 0 16px 28px;
}

/* =========================
   PRODUCT CONTENT TEMPLATE (easy to read)
   ========================= */
.content-store{
  max-width: 600px;
  margin: 0 auto;
  font-family: 'Khala Regular Khmer', system-ui, sans-serif;
}
.content-store .cover{
  width: 100%;
  max-width: 600px;
  border-radius: 14px;
  display: block;
  margin: 8px auto 14px;
}

.content-store p{
  color: #383838;
  font-size: 17px;
  line-height: 1.8;
  margin: 0 0 12px;
  text-align: left;
  word-break: break-word;
  overflow-wrap: break-word;
  margin-top: 10px;
  font-family: 'Khala SemiBold Khmer', sans-serif;
}
body.dark .content-store p{
  color: #e6e6e6;
}


/* benefits list */
.fix-list{
  margin: 0;
  padding-left: 20px;
}
.fix-list li{
  margin: 8px 0;
  line-height: 1.3;
  color: #666666;
}

/* buy button */
.btn-store-info{
  width: 170px;
  height: 46px;
  border-radius: 999px;
  background-color: #0099ff;
  font-size: 16px;
  color: #fff;
  border: none;
  margin: 18px 0 10px;
  font-family: 'Khala Mid Khmer', system-ui, sans-serif;
  cursor: pointer;
}
.btn-store-info:hover{ opacity: .92; }

/* gallery images */
.content-store .gallery img{
  width: 100%;
  max-width: 600px;
  border-radius: 12px;
  display: block;
  margin: 10px auto 0;
}

/* dark mode */
body.dark .pm-dialog{ background: #1f1f1f; color: #eee; }
body.dark .pm-close{
  background: rgb(48, 48, 48);
  color: #eee;
  border-color: rgba(255,255,255,0.12);
}

body.dark .content-store h3{
  color: #ddd;
}
body.dark .fix-list li{
  color: #bbb;
}

/* Scrollbar ទាំងមូល */
body.dark ::-webkit-scrollbar {
  width: 8px;
}

/* ផ្ទៃខាងក្រោយ scrollbar */
body.dark ::-webkit-scrollbar-track {
  background: #ffffff00;
}

/* ដំបងអូស (thumb) */
body.dark ::-webkit-scrollbar-thumb {
  background: #464646;
  border-radius: 10px;
}

/* ពេល hover */
body.dark ::-webkit-scrollbar-thumb:hover {
  background: #333333;
}

/* Scrollbar width */
::-webkit-scrollbar {
  width: 8px;
}

/* Track (background) */
::-webkit-scrollbar-track {
  background: #ffffff00;   /* ប្តូរពណ៍ផ្ទៃក្រោយ */
}

/* Thumb (the scroll handle) */
::-webkit-scrollbar-thumb {
  background: #b9b9b9;      /* ពណ៍ scrollbar */
  border-radius: 10px;
}


/* Tab3 */
.text-tab3 p{
  margin: 16px 0 10px;
  font-family: 'Khala bold Khmer', system-ui, sans-serif;
  font-size: 28px;
  text-align: center;
  color: #00bbff;
}
@media (max-width: 480px){
  .text-tab3 p{
    font-size: 19px;
  }}


/*តារាងតម្លៃ*/
/* table (modern clean style) */
.simple-info-table {
  width: 100%;
  max-width: 640px;
  border-collapse: collapse;
  font-family: 'Khala Regular Khmer', system-ui, sans-serif;
  font-size: 15.5px;
  background: #f9fafb;
  border-radius: 14px;
  overflow: hidden;
}

.simple-info-table tr {
  border-bottom: 1px solid #e5e7eb;
  transition: background 0.2s ease;
}

.simple-info-table td {
  padding: 14px 16px;
}

.simple-info-table td:first-child {
  width: 40%;
  background: #f3f4f6;
  color: #374151;
}

.simple-info-table td:last-child {
  width: 60%;
  color: #111827;
  font-family: 'Khala SemiBold Khmer';
}

/* dark mode */
body.dark .simple-info-table {
  background: #1f1f1f;
  box-shadow: 0 6px 18px rgba(0,0,0,0.6);
}
body.dark .simple-info-table tr {
  border-bottom-color: rgba(255,255,255,0.08);
}
body.dark .simple-info-table tr:hover {
  background: #2a2a2a;
}
body.dark .simple-info-table td:first-child {
  background: #151515;
  color: #eaeaea;
}
body.dark .simple-info-table td:last-child {
  color: #cfcfcf;
}








/* --- existing stylesheet above unchanged --- */

/* (existing stylesheet unchanged at top) */
/* ... paste your existing CSS here up to the product-sheet styles ... */

/* --- additions / overrides for home hero --- */

.home-hero {
  margin-top: 22px;
  padding: 24px 16px;
  max-width: 1200px;
  margin-left: auto;
  margin-right: auto;
  box-sizing: border-box;
}

.home-hero-inner {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 28px;
  align-items: center;
}

.hero-left {
  padding: 8px 12px;
}
.hero-title {
  font-family: 'Khala Mid', sans-serif;
  font-size: 36px;
  margin: 0 0 8px;
  color: #111;
}
.hero-sub {
  color: #444;
  font-size: 16px;
  margin: 0 0 18px;
  line-height: 1.5;
}

.hero-controls {
  display: flex;
  gap: 12px;
  align-items: center;
  margin-bottom: 12px;
  flex-wrap: wrap;
}

.upload-btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  background: #111827;
  color: #fff;
  padding: 8px 12px;
  border-radius: 10px;
  cursor: pointer;
  font-weight: 700;
}
.upload-btn input[type="file"]{
  display: none;
}

.color-label {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 10px;
  border-radius: 8px;
  background: #fff;
  border: 1px solid rgba(15,23,42,0.06);
}
.color-label input[type="color"]{
  width: 36px;
  height: 28px;
  border: none;
  padding: 0;
  background: transparent;
  cursor: pointer;
}

.thumbs {
  margin-top: 16px;
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
}
.thumb {
  border: 1px solid rgba(15,23,42,0.08);
  width: 86px;
  height: 86px;
  border-radius: 8px;
  padding: 6px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: #fff;
  cursor: pointer;
}
.thumb img {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  display: block;
}
.thumb.warn{
  width: auto;
  padding: 8px 10px;
  font-size: 13px;
  color: #a00;
  background: #fff4f4;
  border-color: #f8d7da;
}

/* Hero preview (right column) */
.hero-right {
  display: flex;
  flex-direction: column;
  align-items: center;
}
.hero-preview{
  width: 100%;
  max-width: 560px;
  height: 420px;
  border-radius: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  box-shadow: 0 18px 40px rgba(12, 20, 40, 0.08);
  background-color: #f5f5f7; /* default */
  position: relative;
}
.hero-preview img{
  max-width: 85%;
  max-height: 85%;
  object-fit: contain;
  display: block;
  pointer-events: none;
}

/* caption under hero */
.hero-caption {
  margin-top: 12px;
  color: #333;
  font-size: 14px;
}

/* responsive */
@media (max-width: 900px) {
  .home-hero-inner { grid-template-columns: 1fr; }
  .hero-preview { height: 320px; max-width: 100%; }
  .hero-title { font-size: 28px; }
}

/* keep rest of your stylesheet below unchanged */
/* (you already have the rest in your file) */

/* ======= Home.css (inlined) ======= */
@font-face {
  font-family: 'Khala Bold';
  src: url('SF-Pro-Text-Bold.otf') format('true-type');
  font-style: normal;
}
@font-face {
  font-family: 'Khala Regular';
  src: url('SF-Pro-Text-Regular.otf') format('true-type');
  font-style: normal;
}
/* =========================== Global Layout & Typography =========================== */
body {
  margin: 0;
  font-family: 'Khala Regular', sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background: #ffffff;
  color: #111;
}

/* =========================== Home Promo Layout =========================== */
.home-promos {
  max-width: 2000px;       /* expand until 2000px */
  width: 100%;             /* full width */
  margin: 40px auto;
  padding: 0;              /* no side padding → full bleed */
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  gap: 8px;               /* spacing between sections */
}

/* Top Promo (Hero full bleed) */
.promo-top {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 8px;               /* spacing between boxes */
  padding: 0 8px;         /* keep side padding for lower boxes */
  display: flex;
  justify-content: center;
}
.promo-top .promo-card {
  width: 100%;
  max-width: 2000px;       /* limit hero box to 2000px */
  padding: 40px 0 20px 0;  /* remove left/right padding */
}

.promo-top1 {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 8px;               /* spacing between boxes */
  padding: 0 8px;         /* keep side padding for lower boxes */
  display: flex;
  justify-content: center;
}
.promo-top1 .promo-card {
  width: 100%;
  max-width: 2000px;       /* limit hero box to 2000px */
  padding: 40px 0 20px 0;  /* remove left/right padding */
}

/* Bottom Row (Fitness+ & MacBook Pro) */
.promo-bottom {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 8px;               /* spacing between boxes */
  padding: 0 8px;         /* keep side padding for lower boxes */
}

/* =========================== Promo Card Styling =========================== */
.promo-card {
  position: relative;
  box-sizing: border-box;
  min-height: 500px;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  border-radius: 0;
}
.promo-card h2{
    font-size: 50px;
    color: #000;
    font-family: 'Khala Bold', sans-serif;
}
.promo-card p{
    font-size: 25px;
    color: #000;
    font-family: 'Khala Regular', sans-serif;
}
.promo-title {
  font-size: 32px;
  margin: 0;
}
.promo-desc {
  font-size: 14px;
  color: rgba(0,0,0,0.65);
  line-height: 1.5;
  margin: 10px 0;
  max-width: 640px;        /* wider content text */
}

/* =========================== Buttons =========================== */
.promo-actions {
  display: flex;
  gap: 10px;
  margin-top: 10px;
}
.promo-btn {
  padding: 8px 16px;
  border-radius: 999px;
  font-size: 13px;
  text-decoration: none;
  border: 1px solid rgba(0,0,0,0.1);
  transition: background 0.2s ease, opacity 0.2s ease;
}
.promo-btn.primary {
  background: #007aff;
  color: #fff;
  border: none;
}
.promo-btn.ghost {
  background: transparent;
  color: #111;
}
.promo-btn:hover {
  opacity: 0.8;
}

/* =========================== Image Area =========================== */
.promo-media {
  margin-top: 20px;
}
.promo-media img {
    margin-top: 20px;
  max-width: 70%;
  height: auto;
  object-fit: contain;
  background: transparent;
}

/* =========================== Background Variants =========================== */
.bg-light1 {
  /* fallback solid color for very old browsers */
  background-color: #007aff;
  background-image: linear-gradient(to bottom, #ADDCEF 0%, #F5F5F7 100%);
  color: #fff;
}
.bg-light { background: #F3F4F6; }
.bg-dark { background: #000; color: #fff; }
.bg-dark .promo-desc,
.bg-dark .promo-btn.ghost { color: #eee; }
.bg-dark .promo-btn.primary { background: #0b74ff; }

/* =========================== Footer (Dark Mode Default) =========================== */
.site-footer {
  background: #000; /* dark mode default */
  padding: 40px 0;
  font-size: 14px;
  color: #ccc;
  border-top: 1px solid rgba(255,255,255,0.1);
}

/* Top line text */
.footer-legal {
  max-width: 1100px;
  margin: 0 auto 24px;
  font-size: 13px;
  color: #aaa;
  line-height: 1.6;
  text-align: left;
  border-bottom: 1px solid rgba(255,255,255,0.1);
  padding-bottom: 12px;
}

/* Columns */
.footer-inner {
  max-width: 1100px;
  margin: 24px auto;
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 20px;
}
.footer-col h4 {
  margin-bottom: 8px;
  font-size: 15px;
  color: #eee;
}
.footer-col ul {
  list-style: none;
  padding: 0;
  margin: 0;
}
.footer-col li { margin-bottom: 6px; }
.footer-col li a {
  color: #aaa;
  text-decoration: none;
  display: inline-block;
  padding: 2px 0;
  transition: color 0.2s ease, text-decoration 0.2s ease;
}
.footer-col li a:hover {
  text-decoration: underline;
}
/* Bottom line */
.footer-bottom {
  max-width: 1100px;
  margin: 32px auto 0;
  padding-top: 16px;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  font-size: 13px;
  color: #aaa;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.footer-bottom p{color: #aaa;}
.footer-left { font-weight: 600; }
.footer-right {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}
.footer-right a {
  color: #0b74ff;
  text-decoration: none;
}
.footer-right a:hover { text-decoration: underline; }

/* =========================== Responsive =========================== */
@media (max-width: 900px) {
  .promo-bottom { grid-template-columns: 1fr; }
  .promo-title { font-size: 24px; }
  .promo-desc { font-size: 13px; }
  .promo-card { min-height: 360px; }
  .footer-inner { grid-template-columns: 1fr 1fr; }
  .footer-bottom { flex-direction: column; gap: 12px; text-align: center; }
}

/* =========================== Utility Backgrounds =========================== */
.bg-card-blue { background: #f0f4ff; }
.bg-card-gray { background: #f9f9f9; }
.bg-card-black { background: #000; color: #fff; }


</style>
</head>
<body>

  <!-- Header -->
  <header>
  <div class="header-left">
    <img src="logo.png" alt="Logo" />
  </div>

  <div class="header-center">

    <button class="tool-btn" data-panel="store">
      <img src="store.png" />
    </button>
    <button class="tool-btn" data-panel="home">
      <img src="home.png" />
    </button>
    <button class="tool-btn" data-panel="service">
      <img src="service.png" />
    </button>
  </div>
</header>


  <div id="panelOverlay"></div>

  <div class="panel-container">
    <div id="overlay"></div>

    <!-- Panel 1: Store (default first) -->
    <div class="panel" id="store">
      <div class="banner-top"></div>
      <div class="box">


<div class="item product-open" data-product="canva_pro" role="button" tabindex="0">
  <img src="p1.jpg" alt="Canva Pro Premium">
  <div class="info">
    <h3>Canva Pro</h3>
    <p><span>$5.00</span> | គម្រោងមួយឆ្នាំ</p>
  </div>
</div>

    <div class="item product-open" data-product="facebook_verify" role="button" tabindex="0">
        <img src="p10.jpg" alt="Facebook Verify">
        <div class="info">
          <h3>Facebook Verify</h3>
          <p><span>$5.00</span> | គម្រោងមួយខែ</p>
        </div>
    </div>


<div class="item product-open" data-product="capcut_pro" role="button" tabindex="0">
  <img src="p9.jpg" alt="CapCut Pro">
  <div class="info">
    <h3>CapCut Pro</h3>
    <p><span>$5.00</span> | គម្រោងមួយខែ</p>
  </div>
</div>

<div class="item product-open" data-product="adobe_creative" role="button" tabindex="0">
  <img src="p7.jpg" alt="Adobe Creative">
  <div class="info">
    <h3>Adobe Creative</h3>
    <p><span>$10.00</span> | គម្រោង៣ខែ</p>
  </div>
</div>

<div class="item product-open" data-product="chatgpt_plus" role="button" tabindex="0">
  <img src="p2.jpg" alt="ChatGPT Plus">
  <div class="info">
    <h3>ChatGPT Plus</h3>
    <p><span>$4.99</span> | គម្រោងមួយខែ</p>
  </div>
</div>

<div class="item product-open" data-product="windows_11_pro" role="button" tabindex="0">
  <img src="p3.jpg" alt="Windows 11 Pro">
  <div class="info">
    <h3>Windows 11 Pro</h3>
    <p><span>$5.00</span> | គម្រោងមួយជីវិត</p>
  </div>
</div>

<div class="item product-open" data-product="netflix_premium" role="button" tabindex="0">
  <img src="p5.jpg" alt="Netflix Premium">
  <div class="info">
    <h3>Netflix Premium</h3>
    <p><span>$3.00</span> | គម្រោងប្រចាំខែ</p>
  </div>
</div>

<div class="item product-open" data-product="google_drive_2tb" role="button" tabindex="0">
  <img src="p4.jpg" alt="Google Drive 2TB">
  <div class="info">
    <h3>Gemini Pro</h3>
    <p><span>$9.00</span> | គម្រោងមួយឆ្នាំ</p>
  </div>
</div>

<div class="item product-open" data-product="youtube_premium" role="button" tabindex="0">
  <img src="p6.jpg" alt="YouTube Premium">
  <div class="info">
    <h3>YouTube Premium</h3>
    <p><span>$20.00</span> | គម្រោងមួយឆ្នាំ</p>
  </div>
</div>

<div class="item product-open" data-product="microsoft_office" role="button" tabindex="0">
  <img src="p8.jpg" alt="Microsoft Office 365">
  <div class="info">
    <h3>Microsoft Office</h3>
    <p><span>$20.00</span> | គម្រោងមួយឆ្នាំ</p>
  </div>
</div>

      </div>
    </div>










    
    
     <!-- Panel 2: Home (updated Apple-like layout) -->
    <div class="panel" id="home">

<section class="home-promos">
  <!-- Top Promo: iPad Air -->
  <div class="promo-top">
    <div class="promo-card bg-light1">
      <h2 class="promo-title">Airpods Pro 2</h2>
      <p class="promo-desc">Premium design, quality sound and battery. 15USD</p>
      <div class="promo-actions">
        <a href="#" class="promo-btn primary">Learn more</a>
        <a href="https://t.me/smservicekh" class="promo-btn ghost">Buy</a>
      </div>
      <div class="promo-media">
        <img src="airbus.png" alt="iPad Air M3">
      </div>
    </div>
  </div>

  <!-- Bottom Row: Fitness+ and MacBook Pro -->
  <div class="promo-top1">

    <div class="promo-card bg-light">
      <h2 class="promo-title">Air Watch Siri</h2>
      <p class="promo-desc">This product only for test.</p>
      <div class="promo-actions">
        <a href="#" class="promo-btn primary">Learn more</a>
        <a href="https://t.me/smservicekh" class="promo-btn ghost">Buy</a>
      </div>
      <div class="promo-media">
        <img src="cart1.png" alt="MacBook Pro 14 M5">
      </div>
    </div>

    <div class="promo-card bg-light">
      <h2 class="promo-title">Keyboard Lighting</h2>
      <p class="promo-desc">This product only for test.</p>
      <div class="promo-actions">
        <a href="#" class="promo-btn primary">Learn more</a>
        <a href="https://t.me/smservicekh" class="promo-btn ghost">Buy</a>
      </div>
      <div class="promo-media">
        <img src="cart2.png" alt="MacBook Pro 14 M5">
      </div>
    </div>
  </div>
</section>


<!-- Footer -->
<footer class="site-footer">
  <div class="footer-legal">
    <p>SM Digital is a full digital service company created to help businesses grow and succeed in the modern digital world. We provide graphic design, website development, software license, and app development services in one place, making it easy for customers to find everything they need without working with many different teams.

Our main goal is to make digital services simple and understandable for everyone. We know that many customers are not experts in technology or English, so we always use clear, simple words and explain each step carefully. With SM Digital, you never feel confused or pressured. We guide you from the beginning until the final result.

Graphic design is one of our core services. We help businesses build a strong and professional image through clean and modern design. Our work includes logos, branding, posters, banners, social media designs, and marketing materials. Every design is created to be easy to understand, visually attractive, and suitable for real business use. Good design helps your brand look trustworthy and memorable to customers.

Website development is another important service at SM Digital. We create websites that are easy to use, fast, and responsive on all devices. Whether your customers visit your site on a phone, tablet, or computer, the experience will always be smooth. <br><br><span style="margin-left: 25px;"></span>Our websites are designed to help visitors quickly understand your business, view your services, and contact you easily. A good website builds trust and increases customer confidence.

SM Digital also provides reliable software licenses for individuals and businesses. We offer trusted software that helps you work better and faster. All licenses are safe, stable, and easy to use. This allows you to focus on your work without worrying about security issues or software problems.

For businesses that need more advanced digital solutions, we offer app development services. We develop apps that are practical, user-friendly, and designed for real business needs. Our apps focus on simple design and clear functions, so users can learn how to use them quickly. We always think about the end user, making sure the app is helpful and comfortable to use.

At SM Digital, customer satisfaction is our priority. We believe in honest service, clear pricing, and strong support. We listen carefully to customer needs and provide solutions that match their goals and budget. Our team is committed to delivering quality work on time and maintaining long-term relationships with our clients.

We understand that every business is different. That is why we offer flexible solutions that can grow with your business. Whether you are just starting or already expanding, SM Digital is ready to support you at every stage of your digital journey.

If you are looking for a reliable digital partner who speaks clearly, works professionally, and truly understands your business needs, SM Digital is the right choice. We are here to help you build a strong brand, improve your online presence, and grow your business with simple, effective, and modern digital solutions.</p>
    
  </div>

  <div class="footer-inner">
    <div class="footer-col">
      <h4>License & Software</h4>
      <ul>
        <li><a href="/mac">Canva Pro</a></li>
        <li><a href="/iphone">Adobe Creative Cloud</a></li>
        <li><a href="/ipad">Window11 Pro</a></li>
        <li><a href="/watch">Google Flow</a></li>
        <li><a href="/vision">Telegram Premium</a></li>
        <li><a href="/airpods">Gemini Ai + Cloud 2TB</a></li>
        <li><a href="/tv-home">YouTube Premium</a></li>
        <li><a href="/airtag">CapCut Pro</a></li>
        <li><a href="/accessories">Netflix Premium</a></li>
        <li><a href="/gift-cards">ExpressVPN</a></li>
        <li><a href="/gift-cards">Freepik Premium</a></li>
        <li><a href="/gift-cards">Kaspersky</a></li>
        <li><a href="/gift-cards">Office 365</a></li>
        <li><a href="/gift-cards">ChatGPT Plus</a></li>
      </ul>
    </div>

    <div class="footer-col">
      <h4>Service</h4>
      <ul>
        <li><a href="/wallet">Graphic Design</a></li>
        <li><a href="/apple-card">Website Frontend development</a></li>
        <li><a href="/apple-pay">App Development</a></li>
        <li><a href="/apple-cash">UX / UI Design</a></li>
        <li><a href="/apple-cash">Digital Marketing</a></li>
      </ul>
    </div>

    <div class="footer-col">
      <h4>For you in Telegram</h4>
      <ul>
        <li><a href="/manage-account">SM Digital</a></li>
        <li><a href="/store-account">Graphic Design</a></li>
        <li><a href="/icloud">Programer IT-Step</a></li>
        <li><a href="/icloud">Library Digital</a></li>
        <li><a href="/icloud">Khmer Software</a></li>
        <li><a href="/icloud">Khmer IT-Group</a></li>
        <li><a href="/icloud">Png Stock</a></li>
        <li><a href="/icloud">Lan Khala</a></li>
        <li><a href="/icloud">Khmer Premium</a></li>
      </ul>
    </div>

    <div class="footer-col">
      <h4>Updating...</h4>
      <ul>
        <li><a href="/apple-one">Updating...</a></li>
        <li><a href="/apple-tv">Updating...</a></li>
        <li><a href="/apple-music">Updating...</a></li>
        <li><a href="/apple-arcade">Updating...</a></li>
        <li><a href="/apple-fitness">Updating...</a></li>
        <li><a href="/apple-news">Updating...</a></li>
        <li><a href="/apple-podcasts">Updating...</a></li>
        <li><a href="/apple-books">Updating...</a></li>
        <li><a href="/app-store">Updating...</a></li>
      </ul>
    </div>
  </div>

  <div class="footer-bottom">
    <p>© 2026 SM Digital. All rights reserved.</p>
    <p>
      <a href="#">Privacy Policy</a> |
      <a href="#">Terms of Use</a> |
      <a href="#">Legal</a> |
      <a href="#">Site Map</a>
    </p>
    <p>Cambodia</p>
  </div>
</footer>



    </div>












<!-- Panel 3: Service -->
<div class="panel" id="service">

  <!-- ✅ Banner Random --> <div class="service-banner"> <!-- បង្ហាញតែរូបមួយ random --> <img id="randomBanner" src="" alt="Service Banner"> </div>
  <!-- ✅ Indicators under banner -->
  <div class="banner-indicators">
    <span class="dot active"></span>
    <span class="dot"></span>
    <span class="dot"></span>
  </div>

  <div class="text-tab3">
    <p>ទាំងនេះជាការរចនារបស់យើង</p>
  </div>
  <!-- ✅ Last Works Section -->
<section class="last-works">
  <div class="works-grid">
    <img src="Design (25).jpg" alt="Work 5" loading="lazy">
    <img src="Design (1).jpg" alt="">
    <img src="Design (2).jpg" alt="Work 5" loading="lazy">
    <img src="Design (3).jpg" alt="work 20" loading="lazy">
    <img src="Design (4).jpg" alt="Work 6" loading="lazy">
    <img src="Design (5).jpg" alt="Work 1" loading="lazy">
    <img src="Design (6).jpg" alt="Work 2" loading="lazy">
    <img src="Design (7).jpg" alt="Work 3" loading="lazy">
    <img src="Design (8).jpg" alt="Work 4" loading="lazy">
    <img src="Design (9).jpg" alt="Work 6" loading="lazy">
    <img src="Design (10).jpg" alt="Work 4" loading="lazy">
    <img src="Design (11).jpg" alt="Work 5" loading="lazy">
    <img src="Design (12).jpg" alt="Work 5" loading="lazy">
    <img src="Design (13).jpg" alt="Work 5" loading="lazy">
    <img src="Design (14).jpg" alt="Work 6" loading="lazy">
    <img src="Design (15).jpg" alt="Work 5" loading="lazy">
    <img src="Design (16).jpg" alt="Work 5" loading="lazy">
    <img src="Design (17).jpg" alt="Work 5" loading="lazy">
    <img src="Design (18).jpg" alt="Work 6" loading="lazy">
    <img src="Design (19).jpg" alt="Work 5" loading="lazy">
    <img src="Design (20).jpg" alt="work 21" loading="lazy">
    <img src="Design (21).jpg" alt="work 22" loading="lazy">
    <img src="Design (22).jpg" alt="work 23" loading="lazy">
    <img src="Design (23).jpg" alt="work 24" loading="lazy">
    <img src="Design (24).jpg" alt="work 25" loading="lazy">

    <!-- …ដាក់រូបច្រើនបាន -->
  </div>
</section>


</div>







  </div>

  <!-- External JS -->
  
  <!-- =========================
       PRODUCT SHEET (ONE TEMPLATE)
       Same layout for all products, data changes by JS
       ========================= -->
  <div class="product-modal" id="productModal" aria-hidden="true">
    <div class="pm-backdrop" data-close="1" aria-hidden="true"></div>

    <div class="pm-dialog" role="dialog" aria-modal="true" aria-label="Product detail">
      <button class="pm-close" type="button" aria-label="Close"><span><img src="backicon.png" alt="" style="width: 21px;"></span></button>

      <div class="pm-content">
        <!-- JS will render product detail here -->
        <div id="pmContent" class="content-store"></div>
      </div>
    </div>
  </div>

  <script>


// ======= app.js (inlined) =======
document.addEventListener("DOMContentLoaded", () => {
  // =========================
  // PANEL SWITCHING (Store / Home / Service)
  // =========================
  const buttons = document.querySelectorAll(".tool-btn");
  const panels = document.querySelectorAll(".panel");
  const panelOverlay = document.getElementById("panelOverlay");

  function showPanel(panelId) {
    if (panelOverlay) panelOverlay.classList.add("active");

    setTimeout(() => {
      panels.forEach((panel) => {
        panel.classList.toggle("active", panel.id === panelId);
      });

      buttons.forEach((btn) => {
        btn.classList.toggle("active", btn.dataset.panel === panelId);
      });

      if (panelOverlay) panelOverlay.classList.remove("active");

      // ✅ Save last panel + scroll position
      localStorage.setItem("lastPanel", panelId);
      localStorage.setItem("lastScroll", window.scrollY);
    }, 0);
  }

  buttons.forEach((btn) => {
    btn.addEventListener("click", () => showPanel(btn.dataset.panel));
  });

  // ✅ Restore last panel + scroll position
  const lastPanel = localStorage.getItem("lastPanel");
  const lastScroll = localStorage.getItem("lastScroll");

  if (lastPanel) {
    showPanel(lastPanel);
    if (lastScroll) {
      setTimeout(() => {
        window.scrollTo(0, parseInt(lastScroll, 10));
      }, 100);
    }
  } else {
    showPanel("store");
  }

  // ==========================
  // AUTO MODE BASED ON TIME
  // ==========================
  const now = new Date();
  const hour = now.getHours();

  // Example logic: 6am–18pm = light, otherwise dark
  // if (hour >= 6 && hour < 18) {
  //   document.body.classList.remove("dark"); // daytime → light mode
  // } else {
  //   document.body.classList.add("dark");    // nighttime → dark mode
  // }

  // ==========================
  // TAB3: Random Banner
  // ==========================
  const bannerImg = document.getElementById("randomBanner");
  if (bannerImg) {
    const bannerList = ["banner1.jpg", "banner2.jpg", "banner3.jpg"];
    const randomIndex = Math.floor(Math.random() * bannerList.length);
    bannerImg.src = bannerList[randomIndex];
  }

  // ==========================
  // HOME: hero + image upload (PNG with transparent background)
  // ==========================
  function initHomeHero() {
    const uploadInput = document.getElementById("homeUpload");
    const bgPicker = document.getElementById("homeBgPicker");
    const thumbs = document.getElementById("homeThumbs");
    const heroPreview = document.getElementById("heroPreview");
    const heroImage = document.getElementById("heroImage");
    const heroFileName = document.getElementById("heroFileName");

    if (!uploadInput || !thumbs || !heroPreview || !heroImage) return;

    // Set initial background color
    if (bgPicker) {
      heroPreview.style.backgroundColor = bgPicker.value || "#f5f5f7";
      bgPicker.addEventListener("input", (e) => {
        heroPreview.style.backgroundColor = e.target.value;
      });
    }

    // Helper: set hero image from URL and update caption
    function setHero(url, name) {
      heroImage.src = url || "";
      heroFileName.textContent = name || "(មិនទាន់ជ្រើសរើស)";
    }

    // Handle selected files (multiple)
    uploadInput.addEventListener("change", (e) => {
      const files = Array.from(e.target.files || []);
      thumbs.innerHTML = "";

      if (!files.length) {
        setHero("", "");
        return;
      }

      files.forEach((file, idx) => {
        // Accept only PNG for transparent backgrounds as requested
        if (!file.type || !file.type.includes("png")) {
          const warn = document.createElement("div");
          warn.className = "thumb warn";
          warn.textContent = `Skipped non-PNG: ${file.name}`;
          thumbs.appendChild(warn);
          return;
        }

        const url = URL.createObjectURL(file);
        const t = document.createElement("button");
        t.type = "button";
        t.className = "thumb";
        t.setAttribute("aria-label", file.name);

        const img = document.createElement("img");
        img.src = url;
        img.alt = file.name;

        t.appendChild(img);
        thumbs.appendChild(t);

        // Click thumbnail to set hero
        t.addEventListener("click", () => {
          setHero(url, file.name);
        });

        // Auto-select first image
        if (idx === 0) {
          setHero(url, file.name);
        }

        // Revoke object URL when image is unloaded (cleanup)
        img.addEventListener("load", () => {
          // keep URL until user navigates away; optionally revoke later
        });
      });
    });

    // If someone clicks a thumbnail that was created earlier (future-proof)
    thumbs.addEventListener("click", (e) => {
      const btn = e.target.closest(".thumb");
      if (!btn) return;
      const img = btn.querySelector("img");
      if (img) {
        setHero(img.src, img.alt || "");
      }
    });
  }

  // Initialize home hero right away (panel may be hidden initially)
  initHomeHero();

  // ==========================
  // PRODUCT SHEET (Same layout, different data)
  // ==========================
  const PRODUCTS = {
    "facebook_verify": {
      "name_km": "Facebook Verify",
      "price": "$4.99",
      "access": "1 Account/Page",
      "connect": "60 នាទី+",
      "plan": "1 ខែ",
      "warranty": "2 សប្តាហ៍",
      "type": "គណនីផ្ទាល់ខ្លួន",
      "cover": "p10.jpg",
      "benefits": [
        "ទទួលបានសញ្ញាសម្គាល់ខៀវ",
        "គណនីមានសុវត្ថិភាពខ្ពស់",
        "បង្កើនគណនីឲ្យទាក់ទាញជាងមុន",
        "គណនីរបស់អ្នករឹងមាំ និងទទួលស្គាល់ពី Meta"
      ],
      // "gallery": [
      //   "imgtab1/fbv.webp"
      // ]
    },
    "capcut_pro": {
      "name_km": "CapCut Pro",
      "price": "$5.00",
      "access": "1 ឧបករណ៍",
      "connect": "5-10 នាទី+",
      "plan": "1 ខែ",
      "warranty": "មួយខែពេញ",
      "type": "គណនីផ្តល់ជូន",
      "cover": "p9.jpg",
      "benefits": [
        "Template និង Effect ពិសេស (Pro)",
        "Export វីដេអូគ្មាន Watermark",
        "គាំទ្រ 4K / HD Quality",
        "Transition ស្អាត និង Smooth"
      ],
    },
    "adobe_creative": {
      "name_km": "Adobe Creative",
      "price": "$11.00",
      "access": "2 Devices",
      "connect": "10-20 នាទី+",
      "plan": "4 ខែ",
      "warranty": "2 សប្តាហ៍",
      "type": "គណនីផ្ទាល់ខ្លួន",
      "cover": "p7.jpg",
      "benefits": [
        "Photoshop រួមទាំងកម្មវិធីចាំបាច់សម្រាប់ Designer 20+",
        "Ai Credit រួមទាំង Adobe Fonts និង Stock",
        "Cloud Storage 100GB",
        "ដំណើការរហូតដល់២កុំព្យូទ័រ ក្នុងពេលតែមួយ"
      ],
    },
    "canva_pro": {
      "name_km": "Canva Pro",
      "price": "$5.00",
      "access": "5 Devices",
      "connect": "1 នាទី+",
      "plan": "1 ឆ្នាំ",
      "warranty": "1 ខែ",
      "type": "គណនីផ្ទាល់ខ្លួន  ",
      "cover": "p1.jpg",
      "benefits": [
        "Canva Pro Gmail ផ្ទាល់ខ្លួន",
        "ទាំងមុខងារ Education Plan",
        "ប្រើក្នុង Pro Affinity Plan",
        "៥ឧបករណ៍ក្នុងពេលតែមួយ",
        "ប្រើពុម្ពអក្សរខ្មែរច្រើនជាង 500+",
        "គម្រូមកស្រាប់រាប់លាន។"
      ],
    },
    "chatgpt_plus": {
      "name_km": "ChatGPT Plus",
      "price": "$4.99",
      "access": "1 Device",
      "connect": "5-10 នាទី+",
      "plan": "1 ខែ",
      "warranty": "7 ថ្ងៃ",
      "type": "គណនីផ្តល់ជូន",
      "cover": "p2.jpg",
      "benefits": [
        "គណនីផ្តល់ជូន ប្រើមួយឧបករណ៍",
        "អាចប្រើមុខងារទាំងអស់ក្នុង Plus",
        "Ai GPTs គ្រប់ Model",
        "GPT-5 (thinking, fast, auto)",
        "ល្បឿនធ្វើការលឿនជាងធម្មតា x3ដង",
        "ប្រើលើទូរស័ព្ទ ឬកុំព្យូទ័រ(ជាជម្រើស)"
      ],
    },
    "windows_11_pro": {
      "name_km": "Windows 11 Pro",
      "price": "$5.00",
      "access": "1 PC",
      "connect": "10-20 នាទី+",
      "plan": "Lifetime",
      "warranty": "1 ខែ",
      "type": "License Key",
      "cover": "p3.jpg",
      "benefits": [
        "Activate Windows 11 Pro ស្របច្បាប់",
        "ប្រើ Pro Features ពេញលេញ",
        "Support បើមានបញ្ហា activate"
      ],
    },
    "netflix_premium": {
      "name_km": "Netflix Premium",
      "price": "$3.00",
      "access": "1 Profile",
      "connect": "5-10 នាទី+",
      "plan": "Monthly",
      "warranty": "1 ខែ",
      "type": "គណនីផ្តល់ជូន",
      "cover": "p5.jpg",
      "benefits": [
        "មើល Movies/Series គុណភាព HD/4K",
        "ប្រើបានលើទូរស័ព្ទ/TV/PC",
        "Support តាម Telegram"
      ],
    },
    "google_drive_2tb": {
      "name_km": "Gemini Ai +2TB",
      "price": "$9.00",
      "access": "3 Devices",
      "connect": "60 នាទី+",
      "plan": "1 ឆ្នាំ",
      "warranty": "90 ថ្ងៃ",
      "type": "គណនីផ្ទាល់ខ្លួន",
      "cover": "p4.jpg",
      "benefits": [
        "Storage 2TB សម្រាប់ Backup ឯកសារ",
        "ប្រើលើគណនី Gmail ផ្ទាល់ខ្លួន",
        "គាំទ្រ Google Photos និង Google Docs",
        "Ai ជំនាន់ថ្មីលំដាប់កំពូលរបស់ Google"
      ],
    },
    "youtube_premium": {
      "name_km": "YouTube Premium",
      "price": "$20.00",
      "access": "1 Device",
      "connect": "5-10 នាទី+",
      "plan": "1 ឆ្នាំ",
      "warranty": "1 ឆ្នាំ",
      "type": "គណនីផ្តល់ជូន",
      "cover": "p6.jpg",
      "benefits": [
        "មើលគ្មាន Ads",
        "Background Play និង Download",
        "YouTube Music Premium"
      ],
    },
    "microsoft_office": {
      "name_km": "Microsoft Office 365",
      "price": "$20.00",
      "access": "1 Account",
      "connect": "10-20 នាទី+",
      "plan": "1 ឆ្នាំ",
      "warranty": "1 ឆ្នាំ",
      "type": "Offcial Account",
      "cover": "p8.jpg",
      "benefits": [
        "Word / Excel / PowerPoint",
        "សម្រាប់ការងារក្រុមហ៊ុន និងសាលា",
      ],
    }
  };

  const productModal = document.getElementById("productModal");
  const pmContent = document.getElementById("pmContent");
  const storeBox = document.querySelector("#store .box");
  const headerEl = document.querySelector("header");

  function setHeaderH(){
    const h = headerEl ? headerEl.offsetHeight : 50;
    document.documentElement.style.setProperty("--header-h", `${h}px`);
  }
  setHeaderH();
  window.addEventListener("resize", setHeaderH);

  function renderProduct(productId){
    const p = PRODUCTS[productId] || PRODUCTS["capcut_pro"];
    if (!pmContent || !p) return;

    const benefits = (p.benefits || []).map(li => `<li>${li}</li>`).join("");
    const gallery = (p.gallery || []).map(src => `<img src="${src}" alt="">`).join("");

    pmContent.innerHTML = `
      <img class="cover" src="${p.cover}" alt="${p.name_km}">
      <p>1. អំពីកម្មវិធី</p>

      <table class="simple-info-table">
        <tr><td>ឈ្មោះកម្មវិធី</td><td>${p.name_km}</td></tr>
        <tr><td>តម្លៃ</td><td>${p.price}</td></tr>
        <tr><td>ការចូលប្រើ</td><td>${p.access}</td></tr>
        <tr><td>រយៈពេលភ្ជាប់</td><td>${p.connect}</td></tr>
        <tr><td>គម្រោង</td><td>${p.plan}</td></tr>
        <tr><td>ការធានា</td><td>${p.warranty}</td></tr>
        <tr><td>ប្រភេទ</td><td>${p.type}</td></tr>
      </table>

      <p>2. អត្ថប្រយោជន៍</p>
      <ul class="fix-list">
        ${benefits}
      </ul>

      <button class="btn-store-info" type="button" id="pmBuyBtn">ទិញឥឡូវនេះ</button>

      <div class="gallery">
        ${gallery}
      </div>
    `;

    // Buy button action (you can change link later)
    const buyBtn = document.getElementById("pmBuyBtn");
    if (buyBtn) {
      buyBtn.onclick = () => window.open("https://t.me/smservicekh", "_blank", "noopener");
    }
  }

  if (productModal && storeBox) {
    const dialog = productModal.querySelector(".pm-dialog");
    const closeBtn = productModal.querySelector(".pm-close");
    const backdrop = productModal.querySelector(".pm-backdrop");

    let isClosing = false;

    function openSheet(productId) {
      if (isClosing) return;

      renderProduct(productId);
      productModal.dataset.product = productId || "";

      productModal.classList.add("is-visible");
      productModal.setAttribute("aria-hidden", "false");
      document.body.classList.add("sheet-open");

      requestAnimationFrame(() => {
        productModal.classList.add("is-open");
        if (closeBtn) closeBtn.focus();
      });
    }

    function closeSheet() {
      if (!productModal.classList.contains("is-open") || isClosing) return;

      isClosing = true;
      productModal.classList.remove("is-open");

      const finish = () => {
        productModal.classList.remove("is-visible");
        productModal.setAttribute("aria-hidden", "true");
        document.body.classList.remove("sheet-open");
        isClosing = false;
      };

      if (!dialog) { finish(); return; }

      const onEnd = (e) => {
        if (e && e.target === dialog) finish();
      };
      dialog.addEventListener("transitionend", onEnd, { once: true });

      setTimeout(finish, 450);
    }

    // Click product card → open
    storeBox.addEventListener("click", (e) => {
      const card = e.target.closest(".item.product-open");
      if (!card) return;
      openSheet(card.dataset.product || "");
    });

    // Keyboard open (Enter/Space)
    storeBox.addEventListener("keydown", (e) => {
      const card = e.target.closest(".item.product-open");
      if (!card) return;
      if (e.key === "Enter" || e.key === " ") {
        e.preventDefault();
        openSheet(card.dataset.product || "");
      }
    });

    // Close handlers
    if (closeBtn) closeBtn.addEventListener("click", closeSheet);
    if (backdrop) backdrop.addEventListener("click", closeSheet);

    document.addEventListener("keydown", (e) => {
      if (!productModal.classList.contains("is-visible")) return;
      if (e.key === "Escape") closeSheet();
    });
  }

});

// ======= home.js (inlined) =======
// Home panel JavaScript (only the home-related code)
// - banner sizing
// - product boxes (hp-item) click / keyboard -> try to open product modal
// - footer carousel (5 images, rotate every 5s, loop)
// Safe: tries multiple ways to open a product modal (reuses existing store card click if present,
// calls global openSheet if defined, or dispatches a CustomEvent 'open-product' as a fallback).

(function () {
  // Configuration
  const FOOTER_SLIDES = ["slide1.jpg", "slide2.jpg", "slide3.jpg", "slide4.jpg", "slide5.jpg"];
  const FOOTER_INTERVAL_MS = 5000;
  const BANNER_HEIGHT_DESKTOP = 500;
  const BANNER_HEIGHT_MOBILE = 300;
  const MOBILE_BREAKPOINT = 900;

  // Utility: set banner height based on viewport width
  function adjustBannerHeight() {
    const bannerImg = document.querySelector(".home-banner-img");
    if (!bannerImg) return;
    const height = window.innerWidth >= MOBILE_BREAKPOINT ? BANNER_HEIGHT_DESKTOP : BANNER_HEIGHT_MOBILE;
    bannerImg.style.height = height + "px";
    bannerImg.style.objectFit = "cover";
  }

  // Try to open product modal by productId (best-effort)
  function openProductModal(productId) {
    if (!productId) return;

    // 1) If there's a store card with same data-product, click it to reuse existing handlers
    const storeCard = document.querySelector(`.item.product-open[data-product="${productId}"]`);
    if (storeCard) {
      // synthesize a trusted click as best as possible
      storeCard.click();
      return;
    }

    // 2) If a global function openSheet exists (from other script), call it
    if (typeof window.openSheet === "function") {
      try {
        window.openSheet(productId);
        return;
      } catch (err) {
        console.warn("openSheet failed:", err);
      }
    }

    // 3) Dispatch a custom event as fallback (other part of app can listen for 'open-product')
    const ev = new CustomEvent("open-product", { detail: { productId } });
    document.dispatchEvent(ev);
  }

  // Initialize product box interactions inside #home
  function initProductBoxes() {
    const homePanel = document.getElementById("home");
    if (!homePanel) return;

    // Click handler (delegation)
    homePanel.addEventListener("click", (e) => {
      const btn = e.target.closest(".hp-item, .hp-btn");
      if (!btn) return;

      // If clicked an hp-btn inside an hp-item, still open the product (use nearest hp-item)
      const item = btn.classList.contains("hp-item") ? btn : btn.closest(".hp-item");
      if (!item) return;

      const productId = item.dataset.product;
      if (!productId) return;

      // If button has data-action="learn" or "buy" you could handle differently:
      // For now both actions open modal (as requested)
      openProductModal(productId);
    });

    // Keyboard: Enter and Space to activate focused .hp-item
    homePanel.addEventListener("keydown", (e) => {
      const focused = document.activeElement;
      if (!focused) return;
      if (!focused.classList || !focused.classList.contains("hp-item")) return;
      if (e.key === "Enter" || e.key === " ") {
        e.preventDefault();
        const productId = focused.dataset.product;
        if (productId) openProductModal(productId);
      }
    });

    // Make sure hp-item elements are keyboard-focusable (if not already)
    const items = homePanel.querySelectorAll(".hp-item");
    items.forEach((it) => {
      if (!it.hasAttribute("tabindex")) it.setAttribute("tabindex", "0");
      if (!it.hasAttribute("role")) it.setAttribute("role", "button");
    });
  }

  // Footer carousel: fade transition between images every X ms
  function initFooterCarousel() {
    const carouselImg = document.getElementById("carouselSlide");
    if (!carouselImg) return;
    let idx = 0;
    carouselImg.src = FOOTER_SLIDES.length ? FOOTER_SLIDES[0] : "";
    carouselImg.style.transition = "opacity 400ms ease";

    setInterval(() => {
      if (!FOOTER_SLIDES.length) return;
      idx = (idx + 1) % FOOTER_SLIDES.length;
      // fade out, switch src, fade in
      carouselImg.style.opacity = 0;
      setTimeout(() => {
        carouselImg.src = FOOTER_SLIDES[idx];
        carouselImg.style.opacity = 1;
      }, 320);
    }, FOOTER_INTERVAL_MS);
  }

  // Allow external code to programmatically open product modal via custom event listener
  // Example consumer can listen like: document.addEventListener('open-product', e => openSheet(e.detail.productId))
  // (This block only demonstrates the event; does not attach a global listener here.)
  function exposeForDebugging() {
    // Expose helper on window for debugging / integration if needed
    if (!window.__homePanel) {
      window.__homePanel = {
        openProductModal,
        adjustBannerHeight,
      };
    }
  }

  // Initialize everything when DOM is ready
  function init() {
    adjustBannerHeight();
    initProductBoxes();
    initFooterCarousel();
    exposeForDebugging();

    // adjust banner on resize
    window.addEventListener("resize", adjustBannerHeight);
  }

  // Run init on DOMContentLoaded (if already loaded, run immediately)
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", init);
  } else {
    init();
  }
})();















</script>
</body>
</html>